<div id="timeDisplay" class="text-center">00:00:00</div>

<div class="d-flex justify-content-center gap-3 mb-4">
    <button id="startBtn" class="clock-btn">Start</button>
    <button id="stopBtn" class="clock-btn">Stop</button>
</div>

<div class="history-section">
    <div class="table-responsive">
        <table class="custom-table">
            <thead>
                <tr>
                    <th></th>
                    <th>Date</th>
                    <th>Start Time</th>
                    <th>End Time</th>
                    <th>Duration</th>
                    <th>Slot Name</th>
                    <th>Export</th>
                </tr>
            </thead>
            <tbody id="timeHistoryBody">
            <% for (var i = 0; i < tasks.length; i++) { %>
                <tr id="logRow<%= i %>">
                        <td>
                            <input type="checkbox" class="slot-checkbox" data-index="<%= i %>">
                        </td>
                        <td>
                            <%= tasks[i].date %>
                        </td>
                        <td>
                            <%= tasks[i].startTime %>
                        </td>
                        <td>
                            <%= tasks[i].endTime %>
                        </td>
                        <td>
                            <%= tasks[i].duration %>
                        </td>
                        <td>
                            <%= tasks[i].name %>
                        </td>
                        <td>
                            <img src="images/export-icon.png" class="export-single-icon" data-index="<%= i %>" alt="Export" title="Export this slot">
                        </td>
                    </tr>
            <% } %>
            </tbody>
        </table>
        <div class="text-center mt-3">
            <button id="selectAllBtn" class="btn btn-light me-2">Select All</button>
            <button id="batchExportBtn" class="btn btn-light">Export Selected</button>
        </div>
    </div>
</div>

<div class="text-center mt-4">
    <button id="showMusicBtn" class="btn btn-purple">Want to Listen to Music?</button>
</div>

<div id="youtubeContainer" class="text-center mt-3 d-none">
    <div class="video-container mb-4">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/jfKfPfyJRdk?si=uWRw8xfYhoH7w5UB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
    <button id="hideMusicBtn" class="btn btn-secondary">Hide Music</button>
</div>

<form action="timer" method="post" id="notificationPopup">
    <h4>Name this time slot</h4>
    <input type="text" name="slotDate" id="slotDate" hidden required>
    <input type="text" name="slotStart" id="slotStart" hidden required>
    <input type="text" name="slotEnd" id="slotEnd" hidden required>
    <input type="text" name="slotDuration" id="slotDuration" hidden required>
    <input type="text" name="slotName" id="slotName" placeholder="Enter a name for this time slot" required>
    <input type="submit" value="Save" id="saveSlotName">
</form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/timeTracking.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const showMusicBtn = document.getElementById('showMusicBtn');
    const hideMusicBtn = document.getElementById('hideMusicBtn');
    const youtubeContainer = document.getElementById('youtubeContainer');

    showMusicBtn.addEventListener('click', function() {
        youtubeContainer.classList.remove('d-none');
        showMusicBtn.classList.add('d-none');
    });

    hideMusicBtn.addEventListener('click', function() {
        youtubeContainer.classList.add('d-none');
        showMusicBtn.classList.remove('d-none');
    });
});
</script>